<!-- 
Copyright 2014 Google Inc. All Rights Reserved.
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at
    http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
 -->
<!--
This shows a very simple receiver to help you get code up and running. You can
think of this as your first step. It is not compatible with our UX guidelines.
It is useful for learning the basic concepts of the system.
-->
 
<!DOCTYPE html>
<html>
  <head>

  <!-- <link rel="stylesheet" type="text/css" href="chess.css"/> -->

<!--
Include the Receiver Library - Very important use our URL, don't attempt to
host this yourself.
-->
<script type="text/javascript" 
    src="//www.gstatic.com/cast/sdk/libs/receiver/2.0.0/cast_receiver.js">
</script>
<script type="text/javascript"
    src="assets/Snap.svg-0.4.1/dist/snap.svg-min.js">
</script>
    <title>Cast Simple Receiver</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>

    <!-- Chess Pieces -->
    <!-- Black Piece Table -->
    <table class="black-table"> 
      <tr class="row-black-back"> 
        <!-- Black Back Row -->
        <td><img class="black rook" src="assets/png/pieces/rook.black.png"/></td>
        <td><img class="black knight" src="assets/png/pieces/knight.black.png"/></td>        
        <td><img class="black bishop" src="assets/png/pieces/bishop.black.png"/></td>
        <td><img class="black king" src="assets/png/pieces/king.black.png"/></td>
        <td><img class="black queen" src="assets/png/pieces/queen.black.png"/></td>
        <td><img class="black bishop" src="assets/png/pieces/bishop.black.png"/></td>
        <td><img class="black knight" src="assets/png/pieces/knight.black.png"/></td>
        <td><img class="black rook" src="assets/png/pieces/rook.black.png"/></td>
      </tr>

      <!-- Black Pawn Row --> 
      <tr class="row-black-pawn">
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
        <td><img class="black pawn" src="assets/png/pieces/pawn.black.png"/></td>
      </tr>
    </table>

    <!-- White Piece Table -->
    <table class="white-table">
      <tr class="row-white-back">
        <!-- White Pawn Row -->
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
        <td><img class="white pawn" src="assets/png/pieces/pawn.white.png"/></td>
      </tr>

      <tr class="row-white-pawn">
        <!-- White Back Row -->
        <td><img class="white rook" src="assets/png/pieces/rook.white.png" /></td>
        <td><img class="white knight" src="assets/png/pieces/knight.white.png"/></td>
        <td><img class="white bishop" src="assets/png/pieces/bishop.white.png"/></td>
        <td><img class="white king" src="assets/png/pieces/king.white.png"/></td>
        <td><img class="white queen" src="assets/png/pieces/queen.white.png"/>  </td>
        <td><img class="white bishop" src="assets/png/pieces/bishop.white.png"/></td>
        <td><img class="white knight" src="assets/png/pieces/knight.white.png"/></td>
        <td><img class="white rook" src="assets/png/pieces/rook.white.png" /></td>
      </tr>
    </table>



<script type="text/javascript">
  window.onload = function() {
// Turn on debugging so that you can see what is going on.  Please turn this off
// on your production receivers.  Especially if there may be any personally
// identifiable information in the log.
    cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);
    console.log('Starting media application');
    window.mediaElement = document.getElementById('vid');
// Create the media manager. This will handle all media messages by default.
    window.mediaManager = new cast.receiver.MediaManager(window.mediaElement);
// Start the system
    console.log('Application is ready, starting system');
    window.castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
    castReceiverManager.onSenderDisconnected = function (event) {
      console.log("sender disconnected");
    };
// The default inactivity is normally 10 seconds, since we are encouraging you
// to debug this receiver, we are setting it to 10 minutes. As setting a break
// point might inadvertently trigger a timeout. The purpose of the timer is to
// speed the recognition of disconnection of a sender.  As the TCP/IP standard
// mechanisms can be quite slow.
    castReceiverManager.start({maxInactivity: 600});
  };
</script>
  </body>
</html>